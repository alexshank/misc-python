## VPC - Basics

- need to review VPC basics from the associate level solution architect exam???
- CIDR block of IP addresses
  - exact format / meaning of these???
- common (and only allowed) ranges of IPs in private networks
- VPC vs Subnet vs Route Table
- first four and last one IP in subnets is reserved by AWS
- Internet Gateway (IGW) acts as NAT for instances that have public IPv4 or public IPv6
- Public Subnet = has a route table that sends everything (0.0.0.0/0) to an IGW
- NAT instances (EC2 deployed in public subnet)
  - needs Elastic IP
  - must disable Source/Destination Check (EC2 setting)!!!
- NAT Gateway - managed NAT solution, scales bandwidth automatically
  - deploy multiple NAT gateways across AZs for HA
  - would you ever deploy NAT Gateways across regions???
- Network ACL (NACL) - stateless firewall for all instances within a subnet
  - support allow and deny rules
  - stateless, so need to create inbound and outbound allow rules!!!
- Security Groups - stateful firewall applied at instance level
  - can reference other SGs in the same region
    - even with peered VPCs or cross-account (what would that look like)???
  - no deny rules!!!
- VPC Flow Logs
  - VPC, Subnet, or ENI-level
  - Elastic Network Interface (ENI) = virtual networking card attached to an EC2 instance
  - helpful to debug why internet traffic was denied
- Bastion Hosts = two-step SSH into private EC2 instances via public EC2 instance
  - no managed version of this
  - alternative is SSM Session Manager to avoid SSH entirely (better option)!!!
- can use IPv6 for VPC (pair with IGW, which also supports IPv6)
  - public subnet can route all IPv6 to IGW
  - private subnet needs Egress-Only Internet Gateway
  - cannot be reached via IPv6, but can reach out to IPv6
-
